mysql> SELECT * FROM doctor LIMIT 5;
+----+------------------------+------------------+------------+--------------+---------------+
| id | email                  | name             | password   | phone        | specialty     |
+----+------------------------+------------------+------------+--------------+---------------+
|  1 | dr.adams@example.com   | Dr. Emily Adams  | pass12345  | 555-101-2020 | Cardiologist  |
|  2 | dr.johnson@example.com | Dr. Mark Johnson | secure4567 | 555-202-3030 | Neurologist   |
|  3 | dr.lee@example.com     | Dr. Sarah Lee    | leePass987 | 555-303-4040 | Orthopedist   |
|  4 | dr.wilson@example.com  | Dr. Tom Wilson   | w!ls0nPwd  | 555-404-5050 | Pediatrician  |
|  5 | dr.brown@example.com   | Dr. Alice Brown  | brownie123 | 555-505-6060 | Dermatologist |
+----+------------------------+------------------+------------+--------------+---------------+
5 rows in set (0.001 sec)

mysql> SELECT * FROM doctor_available_times LIMIT 5;
+-----------+-----------------+
| doctor_id | available_times |
+-----------+-----------------+
|         1 | 09:00-10:00     |
|         1 | 10:00-11:00     |
|         1 | 11:00-12:00     |
|         1 | 14:00-15:00     |
|         2 | 10:00-11:00     |
+-----------+-----------------+
5 rows in set (0.001 sec)

mysql> SELECT * FROM patient LIMIT 5;
+----+-----------------------------+------------------------+----------------+-------------+--------------+
| id | address                     | email                  | name           | password    | phone        |
+----+-----------------------------+------------------------+----------------+-------------+--------------+
|  1 | 101 Oak St, Cityville       | jane.doe@example.com   | Jane Doe       | passJane1   | 888-111-1111 |
|  2 | 202 Maple Rd, Townsville    | john.smith@example.com | John Smith     | smithSecure | 888-222-2222 |
|  3 | 303 Pine Ave, Villageton    | emily.rose@example.com | Emily Rose     | emilyPass99 | 888-333-3333 |
|  4 | 404 Birch Ln, Metropolis    | michael.j@example.com  | Michael Jordan | airmj23     | 888-444-4444 |
|  5 | 505 Cedar Blvd, Springfield | olivia.m@example.com   | Olivia Moon    | moonshine12 | 888-555-5555 |
+----+-----------------------------+------------------------+----------------+-------------+--------------+
5 rows in set (0.001 sec)

mysql> SELECT * FROM appointment ORDER BY appointment_time LIMIT 5;
+-----+----------------------------+--------+-----------+------------+
| id  | appointment_time           | status | doctor_id | patient_id |
+-----+----------------------------+--------+-----------+------------+
|  76 | 2025-04-01 09:00:00.000000 |      1 |         1 |          1 |
|  51 | 2025-04-01 10:00:00.000000 |      1 |         1 |          2 |
|  84 | 2025-04-01 10:00:00.000000 |      1 |         2 |          1 |
|  85 | 2025-04-01 11:00:00.000000 |      1 |         2 |          2 |
| 114 | 2025-04-01 12:00:00.000000 |      1 |         3 |          1 |
+-----+----------------------------+--------+-----------+------------+
5 rows in set (0.001 sec)

mysql> SELECT * FROM admin;
+----+------------+----------+
| id | password   | username |
+----+------------+----------+
|  1 | admin@1234 | admin    |
+----+------------+----------+
1 row in set (0.001 sec)

mysql> DELIMITER $$
mysql>
mysql> CREATE PROCEDURE GetDailyAppointmentReportByDoctor(
    ->     IN report_date DATE
    -> )
    -> BEGIN
    ->     SELECT
    ->         d.name AS doctor_name,
    ->         a.appointment_time,
    ->         a.status,
    ->         p.name AS patient_name,
    ->         p.phone AS patient_phone
    ->     FROM
    ->         appointment a
    ->     JOIN
    ->         doctor d ON a.doctor_id = d.id
    ->     JOIN
    ->         patient p ON a.patient_id = p.id
    ->     WHERE
    ->         DATE(a.appointment_time) = report_date
    ->     ORDER BY
    ->         d.name, a.appointment_time;
    -> END$$
Query OK, 0 rows affected (0.012 sec)

mysql>
mysql> DELIMITER ;
mysql> CALL GetDailyAppointmentReportByDoctor('2025-04-15');
+------------------+----------------------------+--------+----------------+---------------+
| doctor_name      | appointment_time           | status | patient_name   | patient_phone |
+------------------+----------------------------+--------+----------------+---------------+
| Dr. Ava Hall     | 2025-04-15 11:00:00.000000 |      1 | Lucas Turner   | 889-666-6666  |
| Dr. Mark Johnson | 2025-04-15 12:00:00.000000 |      1 | Michael Jordan | 888-444-4444  |
| Dr. Mark Johnson | 2025-04-15 13:00:00.000000 |      1 | Olivia Moon    | 888-555-5555  |
+------------------+----------------------------+--------+----------------+---------------+
3 rows in set (0.004 sec)

Query OK, 0 rows affected (0.004 sec)

mysql> DELIMITER $$
mysql>
mysql> CREATE PROCEDURE GetDoctorWithMostPatientsByMonth(
    ->     IN input_month INT,
    ->     IN input_year INT
    -> )
    -> BEGIN
    ->     SELECT
    ->         doctor_id,
    ->         COUNT(patient_id) AS patients_seen
    ->     FROM
    ->         appointment
    ->     WHERE
    ->         MONTH(appointment_time) = input_month
    ->         AND YEAR(appointment_time) = input_year
    ->     GROUP BY
    ->         doctor_id
    ->     ORDER BY
    ->         patients_seen DESC
    ->     LIMIT 1;
    -> END $$
Query OK, 0 rows affected (0.005 sec)

mysql>
mysql> DELIMITER ;
mysql> CALL GetDoctorWithMostPatientsByMonth(4, 2025);
+-----------+---------------+
| doctor_id | patients_seen |
+-----------+---------------+
|         2 |            31 |
+-----------+---------------+
1 row in set (0.003 sec)

Query OK, 0 rows affected (0.003 sec)

mysql> DELIMITER $$
mysql>
mysql> CREATE PROCEDURE GetDoctorWithMostPatientsByYear(
    ->     IN input_year INT
    -> )
    -> BEGIN
    ->     SELECT
    ->         doctor_id,
    ->         COUNT(patient_id) AS patients_seen
    ->     FROM
    ->         appointment
    ->     WHERE
    ->         YEAR(appointment_time) = input_year
    ->     GROUP BY
    ->         doctor_id
    ->     ORDER BY
    ->         patients_seen DESC
    ->     LIMIT 1;
    -> END $$
Query OK, 0 rows affected (0.003 sec)

mysql>
mysql> DELIMITER ;
mysql> CALL GetDoctorWithMostPatientsByYear(2025);
+-----------+---------------+
| doctor_id | patients_seen |
+-----------+---------------+
|         1 |            34 |
+-----------+---------------+
1 row in set (0.002 sec)

Query OK, 0 rows affected (0.003 sec)